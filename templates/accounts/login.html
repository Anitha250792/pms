{% extends 'base.html' %}
{% block title %}ðŸ“Š Login{% endblock %}

{% block content %}
<style>
  /* ðŸŒ‡ Business-themed background with gradient overlay */
  body {
    background: url("https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1920&q=80") 
                no-repeat center center fixed;
    background-size: cover;
    position: relative;
    overflow: hidden;
  }

  /* ðŸ”· Animated gradient overlay */
  body::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(-45deg,
                rgba(66, 165, 245, 0.5),
                rgba(126, 87, 194, 0.5),
                rgba(38, 198, 218, 0.5),
                rgba(171, 71, 188, 0.5));
    background-size: 400% 400%;
    animation: gradientFlow 10s ease infinite;
    backdrop-filter: blur(8px);
    z-index: 0;
  }

  @keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* ðŸ’Ž Login card (Glassmorphism) */
  .login-card {
    position: relative;
    z-index: 2;
    backdrop-filter: blur(15px);
    background: rgba(255, 255, 255, 0.88);
    border-radius: 25px;
    box-shadow: 0 0 25px rgba(0, 0, 0, 0.25);
    transition: transform 0.3s ease;
    width: 26rem;
  }

  .login-card:hover {
    transform: translateY(-6px);
  }

  /* ðŸŒŸ Center Wrapper (fixes form going too low) */
  .login-wrapper {
    position: relative;
    z-index: 1;
    min-height: calc(100vh - 80px); /* adjust for navbar height */
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 15px;
    margin-top: -60px; /* brings card upward into perfect view */
  }

  /* ðŸ’¡ Neon button */
  .btn-neon {
    background: linear-gradient(45deg, #42a5f5, #26c6da);
    color: white;
    border: none;
    transition: all 0.3s;
  }

  .btn-neon:hover {
    box-shadow: 0 0 20px #26c6da;
    transform: scale(1.05);
  }

  /* Input glow effect */
  .form-control {
    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);
  }

  /* Eye toggle button */
  .btn-outline-secondary {
    border-color: #ccc;
  }
</style>

<!-- ðŸŒŒ Centered Login Card Wrapper -->
<div class="login-wrapper">
  <div class="login-card shadow-lg p-4">
    <div class="card-body">
      <h2 class="text-center text-primary fw-bold mb-4"> Welcome Back</h2>


      <form method="POST" action="{% url 'accounts:login' %}">
        {% csrf_token %}
        <div class="mb-3">
          <label for="id_username" class="form-label fw-semibold">Username</label>
          <input type="text" id="id_username" name="username" class="form-control shadow-sm" placeholder="Enter username" required>
        </div>

        <div class="mb-3 position-relative">
          <label for="id_password" class="form-label fw-semibold">Password</label>
          <div class="input-group">
            <input type="password" id="id_password" name="password" class="form-control shadow-sm" placeholder="Enter password" required>
            <button type="button" class="btn btn-outline-secondary" id="togglePassword">
              <i class="bi bi-eye-slash" id="toggleIcon"></i>
            </button>
          </div>
        </div>

        <div class="d-grid mt-4">
          <button type="submit" class="btn btn-neon fw-bold py-2">Login </button>
        </div>
      </form>

      <p class="text-center mt-4 mb-0">
        Donâ€™t have an account?
        <a href="{% url 'accounts:register' %}" class="fw-bold text-decoration-none text-primary">Register here</a>
      </p>
    </div>
  </div>
</div>

<!-- ðŸ‘ï¸ Password Toggle Script -->
<script>
  const togglePassword = document.getElementById("togglePassword");
  const passwordField = document.getElementById("id_password");
  const toggleIcon = document.getElementById("toggleIcon");

  togglePassword.addEventListener("click", function () {
    const type = passwordField.type === "password" ? "text" : "password";
    passwordField.type = type;
    toggleIcon.classList.toggle("bi-eye");
    toggleIcon.classList.toggle("bi-eye-slash");
  });
</script>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
{% endblock %}
